### 目标

学会用正则进行文本、字符串的模式匹配。掌握常用正则符号。

### 入门：python re模块

- 创建正则表达式对象：re.complie

  将正则表达式得样式编译为一个Regex对象

- 利用Regex对象进行匹配

  Regex对象拥有得方法包括：match、search、find等

- ```python
  prog = re.compile(pattern)
  result = prog.match(string)
  #等价于
  result = re.match(pattern, string)
  ```

  常用方法：

  - re.search：扫描整个字符串并返回第一个成功的匹配，否则返回None。
  - re.match：只尝试从字符串的起始位置匹配一个模式，如果不是起始位置匹配成功的话，就返回none。

  - re.findall：在字符串中找到正则表达式所匹配的所有子串，并返回一个列表，如果没有找到匹配的，则返回空列表。
  - re.finditer：和 findall 类似，在字符串中找到正则表达式所匹配的所有子串，并把它们作为一个迭代器返回。

  

  - re.sub：用于替换字符串中的匹配项
  - re.split：按照能够匹配的子串将字符串分割后返回列表。

  [常用标志位](https://docs.python.org/zh-cn/3.7/library/re.html#re.A)（先眼熟，用到时再强化记忆）

#### 注意

- 模式和给定字串可以是Unicode字符串（str），也可以是8位字节串（byte），但是两者在匹配时不能混用，另外在做字符串替换时也要类型相同。
- 如果要匹配反斜杠(`“\”`)，那正则模式必须写成 `"\\\\”`。因为正则表达式里匹配一个反斜杠必须是 `“\\”` ，而每个反斜杠在普通的 Python 字符串里都要写成 `“\\"` 。另外，正则也可以这么写： `r"\n"` 。在带有 `'r'` 前缀的字符串字面值中，反斜杠不必做任何特殊处理。 
- 正则表达式可以拼接。 如果 *A* 和 *B* 都是正则表达式， 那么 *AB* 也是正则表达式。通常， 如果字符串 *p* 匹配 *A* 并且另一个字符串 *q* 匹配 *B*, 那么 *pq* 可以匹配 AB。除非 *A* 或者 *B* 包含低优先级操作、*A* 和 *B* 存在边界条件，或者有命名组引用。

#### 更详细：

1. [re模块说明](https://docs.python.org/zh-cn/3.7/library/re.html)
2. [re How Tos](https://docs.python.org/zh-cn/3.7/howto/regex.html#regex-howto)

### 常用正则符号(虽然多，但是分类后还是比较容易记忆的)

位置类

- “.”：匹配任意
- “^”：单用表示匹配开头
- “$”：匹配换行符前的字符

次数类

- “*”：匹配它前面的修饰对象0-n次重复。ab\* 匹配一个a和任意数量个b

- “+”：匹配它前面的修饰对象1-n次重复。ab+匹配一个a和至少一个b

- “?”：匹配它前面的修饰对象0-1次重复

- “*?”, “+?”, “??”：匹配0次，匹配1次，匹配0次

  `'*'`, `'+'`，和 `'?'` 修饰符都是 *贪婪的*；它们在字符串中进行尽可能多的匹配，有时候并不需要这种行为，所有就可以在这三分修饰符后面加`'?'`限制。

`{}`类

- `{}`表达式：限定匹配次数
- {m}：对其之前的字符进行M次重复
- {m,n}：对其之前的字符进行M-N次重复，在 *m* 和 *n* 之间取尽量多，贪婪模式。
- {m,n}?：非贪婪模式，匹配m次重复

`[]`类

- `[]`表达式：表示匹配一个字符集合。
- `[amk]`表示匹配a, m, k；
  	- `[a-z]`表示匹配连续的字母；[]中的 “-”如果在开头或者结尾，亦或者用`"\"`号修饰则仅仅表示字符 `“-”`
  	- 特殊字符在`[]`中失去特殊含义，只表示符号
  	- `[]`中以“^”开头表示集合内取反

`（）`类

- `（re）`        ：匹配括号内的表达式，也表示一个组。下面罗列用法开头类型
- （？：         ：类似（re)不表示组
- （？            ：匹配一个模式，并且设置一些标志位。详细看上文中的链接。
- （？-           ：与上种相反，表示匹配一个模式并且关闭一些标志位
- （？=          ：前向肯定界定符。如果前面模式字符串后跟 “=”号后面的内容才算匹配成功。
- （？！         ：前向否定界定符。与前条相反。
- （？>

字符类

- \w：匹配数字字母下划线。    					 取反： \W
- \s：匹配任意空白字符，等价于 [\t\n\r\f]。   取反：\S
- \d：匹配任意数字，等价于 [0-9]                  取反：\D
- \A：匹配字符串开始                                     取反：\Z，\z
- \b：匹配一个单词边界。                              取反：\B

### 正则表达式在线测试：https://c.runoob.com/front-end/854

