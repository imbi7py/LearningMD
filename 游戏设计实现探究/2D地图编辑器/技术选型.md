### 2D地图的绘制方案

1. 直接使用Unity支持的TileMap

   好处：

   - 所见即所得
   - 灵活的扩展能够满足项目的个性化需求

   缺点：

   - 绘制功能和定制化配置功能耦合在一起，不利于分工
   - 需要对编辑器进行扩展
   - 需要将地图数据导出，供服务器使用

2. Tiled编辑器

   好处：

   - 解耦关卡设计和功能配置
   - 完善的编辑器
   - 编辑好的地图数据可以直接给服务器用

   缺点：

   - 需要实现编辑器导出数据的再解析，转换成Unity能用的数据
   - 维护编辑器的成本更大

### 已知问题

- 如何处理动态层级遮挡？

  Tilemap: 需要自己处理

  Tiled：有相关解决方案

- 不同尺寸图格绘制问题？

  Tilemap: 设置TileMap GridSize

  Tiled: 编辑器内设置

- 地图块内容怎么划分区域（举例：地图区域解锁功能）？

  不同区域对应不同id，指定一个范围内所有格子都对应这个id，当这个id解锁时，开放所有格子。

  方案：1.画刷画范围    2. 程序自动分割不规则范围

- 地图块内容怎么加/卸载（避免一次性加载太多内容）？

  先确定地图总共会被分为几行几列。

  然后对应二维索引加载Grid。 即每块都对应一个Grid。这样只需要加/卸载Grid即可。

  