### 图的特点

网格图，等边权。

### 优化思路

大量抛弃不感兴趣的节点，每次只将跳点加入openlist，并开启新一轮搜索。

### 两个概念

- 被迫邻居

  假设存在`当前节点X`，及其`父节点p`。由父节点经过x到达`某点y`，使得**distance(p -> x -> y) < distance(p -> ?? -> y)**，那么`节点y`就是`当前节点x`的被迫邻居。（被迫邻居在`当前节点x`的8个相邻节点中寻找）。下图黑色方块为障碍物。

  ![](被迫邻居示意图.png)

- 跳点

  基于`当前点X`，且`搜索方向为D`(斜向或水平或垂直)，`点Y`满足以下三个条件之一，那么`点y`就是跳点。

  1. 节点y`是终点，那么`节点y`是跳点。

  2. `节点y`**至少有一个被迫邻居**，那么`节点y`是跳点。

  3. 如果`搜索方向d`是**斜向搜索**，如果`节点y`的**水平或垂直方向**上有满足**条件1，2**的点，那么节点y是跳点。

     注：节点y的水平或垂直方向是斜向向量的拆解，比如向量d=(1,1)，那么水平方向则是(1,0)，并不会往左搜索，只会看右边，如果向量d=(-1,-1)，那么水平方向是(-1,0)，只会搜索左边，不看右边，其他同理。

### 找被迫邻居实现转向

先水平、垂直搜索节点，直到该节点为跳点，加入openlist；否则，斜向走一步再开启水平、垂直查找。

### 优先级

横纵向搜索 > 对角sousuo

### 算法思路

