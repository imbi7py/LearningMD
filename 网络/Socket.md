###【前期准备】网络模型的认识
####OSI七层网络模型：
- 物理层： 网络传输的物理媒体部分。
    单位：**bit(比特)**
- 数据链路层： 
    功能：负责如何在不可靠的物理线路上进行数据的可靠传递。
    作用：物理地址寻址、数据成帧、流量控制、数据检错以及重发。
    设备：网卡、网桥、网路交换机
    单位：**帧**
- 网络层：
    功能：将网络地址转换成对应的物理地址，并决定如何将数据从发送方路由到接收方。
    作用：建立网络连接、为上层提供服务。
    设备：路由器
    单位：**数据包**
    重要协议：IP
- 传输层：
    功能：向上层提供通信服务、为会话层向网络层传递数据
    单位：**数据报**
    重要协议：TCP\UDP
- 会话层：负责网络中的两个节点之间通信。**单位：报文**
- 表示层：处理用户信息的表示问题，如编码、数据格式等。**单位：报文**
- 应用层： 为用户提供网络服务。**单位：报文**

####TCP/IP四层模型
- 应用层：对应OSI上三层
    **单位：数据段**
- 传输层：对应OSI传输层
    **单位：数据包**
- 网络互连层：对应OSI网络层
    **单位：数据帧**
- 主机到网络层：对应OSI下两层
    **单位：比特**



###TCP/UDP比较
TCP/IP是一个协议簇。UDP也是其中一个。

####TCP(传输控制协议)
是面向连接的协议，在收发数据前都要建立可靠的连接（三次握手、四次挥手）。
- 三次握手（建立连接）
     在Socket编程中这一过程由客户端执行connect来触发。

    · 第一次握手：客户端发送数据包
        SYN=1：表示同步请求
        seq=j:随机生成一个值，发送给Server用于后续确认。
        状态：进入SYN_SENT，等待Sever确认
    · 第二次握手：服务器接受到客户端发来的数据包
        SYN=1，ACK=1：确认建立连接请求
        ack=j+1,用于确认客户端发来的数据
        seq=k,用于后续确认
        状态：进入SYN_RCVD
    · 第三次握手：客户端接收服务器发来数据
        检查acK=J+1否
        真，则ACK=1，ack=k+1
        将ack发送给Server
        服务器收到客户端消息后
        检查ACK=1,如果正确
        状态：ESTABLISHED完成三次握手，开始传递数据。

- 四次挥手（断开连接）
    在Socket编程中这一过程由客户端或服务器执行close来触发。
    · 第一次挥手：客服端发送数据包
        FIN=M，用来关闭Client到Server的数据传送
        客户端状态：FIN_WAIT_1
    · 第二次挥手：服务器接收到客户端发来的终止请求，返回数据包
        ACK=M+1
        服务器状态：CLOSE_WAIT
    · 第三次握手：服务器关闭到Client的数据传送
      FIN=N
      服务器状态：LAST_ACK
    · 第四次握手：客户端收到服务器FIN
        ACK=1
        ack=N+1
        客户端状态：TIME_WAIT
        服务器状态：CLOSED

- 为什么建立连接只要三次，断开连接要四次？
    建立连接的时候，服务器在listen状态下收到客户端建立连接请求后，会把SYN和ACK报文放在同一个数据包中传递给客户端。
    但是在断开连接的时候客户端仅仅时不再发送更多数据，但是还能接收数据。而服务器可能还有一些数据没有发送完，所以一般服务器会先发送ACK报文确认收到断开请求，在发送完数据后再发送包含FIN报文的数据包来关闭连接。

####UDP（用户数据报协议）
面向非连接的协议，传输数据之前不必建立连接。当他想传输数据时，就简单的向应用程序抓取数据并尽可能的扔到网络上。
· 在发送端，UDP传送数据的速度受限于：应用程序生成数据的速度、计算机的能力、传输带宽
· 在接收端：UDP把消息段放在一个队列中，应用程序每次读取一个消息段。
· 相比TCP,无需建立连接、结构简单、无法保证正确性、容易丢包。


###什么时是Socket
Socket是封装在TCP/IP层上的一个中间件，屏蔽了底层的复杂性。应用程序可以通过Socket来向网络发送请求或应答请求。它是支持TCP/IP协议的网络通信的基本操作单元。

- 服务器端
    · socket：建立服务器Socket实例
    · bind: 绑定IP和端口
    · listen: 开始监听端口
    · accept：接收客户端请求
    · read: 读取客户端传来的数据
    · write: 给客户端传递数据
    · close： 关闭Socket，结束通信
- 客户端
    · socket: 建立Socket实例
    · connect：向服务器发送建立连接请求
    · read : 读取服务器发来的数据
    · write: 向服务器发送数据
    · close: 关闭Sokect,结束通信